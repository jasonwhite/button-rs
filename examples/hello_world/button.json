[
    {
        "tasks": [
            {
                "makedir": {
                    "path": "obj"
                }
            }
        ]
    },
    {
        "inputs": [
            {"dir": "obj"},
            {"file": "foo.c"}
        ],
        "tasks": [
            {
                "command": {
                    "program": "gcc",
                    "args": ["-c", "foo.c", "-o", "obj/foo.o", "-MD", "-MF", "obj/foo.d"]
                }
            }
        ],
        "outputs": [
            {"file": "obj/foo.o"},
            {"file": "obj/foo.d"}
        ]
    },
    {
        "inputs": [
            {"dir": "obj"},
            {"file": "bar.c"}
        ],
        "tasks": [
            {
                "command": {
                    "program": "gcc",
                    "args": ["-c", "bar.c", "-o", "obj/bar.o", "-MD", "-MF", "obj/bar.d"]
                }
            }
        ],
        "outputs": [
            {"file": "obj/bar.o"},
            {"file": "obj/bar.d"}
        ]
    },
    {
        "inputs": [
            {"file": "obj/foo.o"},
            {"file": "obj/bar.o"}
        ],
        "tasks": [
            {
                "command": {
                    "program": "gcc",
                    "args": ["obj/foo.o", "obj/bar.o", "-o", "foobar"]
                }
            }
        ],
        "outputs": [
            {"file": "foobar"}
        ]
    },
    {
        "tasks": [
            {
                "command": {
                    "program": "./foobar",
                    "args": []
                }
            }
        ]
    }
]
