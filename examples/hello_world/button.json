[
    {
        "tasks": [
            {
                "makedir": {
                    "path": "obj"
                }
            }
        ]
    },
    {
        "inputs": [
            {"dir": "obj"},
            {"file": "src/foo.c"}
        ],
        "tasks": [
            {
                "command": {
                    "program": "clang",
                    "args": ["-c", "src/foo.c", "-o", "obj/foo.o"]
                }
            }
        ],
        "outputs": [
            {"file": "obj/foo.o"}
        ]
    },
    {
        "inputs": [
            {"dir": "obj"},
            {"file": "src/bar.c"}
        ],
        "tasks": [
            {
                "command": {
                    "program": "clang",
                    "args": ["-c", "src/bar.c", "-o", "obj/bar.o"]
                }
            }
        ],
        "outputs": [
            {"file": "obj/bar.o"}
        ]
    },
    {
        "inputs": [
            {"file": "obj/foo.o"},
            {"file": "obj/bar.o"}
        ],
        "tasks": [
            {
                "command": {
                    "program": "clang",
                    "args": ["obj/foo.o", "obj/bar.o", "-o", "foobar"]
                }
            }
        ],
        "outputs": [
            {"file": "foobar"}
        ]
    },
    {
        "tasks": [
            {
                "command": {
                    "program": "./foobar",
                    "args": []
                }
            }
        ]
    }
]
